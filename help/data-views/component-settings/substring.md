---
title: 子字串元件設定
description: 將字串的子集用作維項。
solution: Customer Journey Analytics
feature: Data Views
source-git-commit: a8bdb5b0c00a9dbca2f466452a5d18045b2e9971
workflow-type: tm+mt
source-wordcount: '900'
ht-degree: 7%

---

# [!UICONTROL 子字串] 元件設定

[!UICONTROL 子字串] 元件設定允許您執行多個字串操作方法，以在報告中獲取所需的維項。

[!UICONTROL 子字串] 僅在維上可用，並且可追溯應用到的資料。 它是發生在套用篩選或其他分析作業之前的立即資料轉換。

![子字串設定](../assets/substring-settings.png)

## 從左/右

根據字串到字串開頭或結尾的位置，獲取字串的一部分。 **[!UICONTROL 左起]** 和 **[!UICONTROL 右起]** 方法提供了兩個降落： **[!UICONTROL 從]** （輸出開始處）和 **[!UICONTROL 至]** （輸出端）。

* **[!UICONTROL 字串開始]**:字串的開頭。
* **[!UICONTROL 字串結束]**:字串的結尾。
* **[!UICONTROL 位置]**:根據方法，從左到右的靜態字元數。
* **[!UICONTROL 字串]**:匹配字元或字元序列以指示字串的開頭或結尾。 此下拉清單還顯示其他選項：
   * **[!UICONTROL 匹配]**:要匹配的字串。 如果輸入與此欄位不匹配， [無值選項](no-value-options.md) 按鈕
   * **[!UICONTROL 索引]**:的 **[!UICONTROL 匹配]** 條件可以在字串中出現多次。 此整數根據方法確定要啟動或結束輸出的匹配項。 例如， `1` 代表第一場比賽。 如果索引高於可用匹配項數， [無值選項](no-value-options.md) 按鈕
   * **[!UICONTROL 包括字串]**:包含 **[!UICONTROL 匹配]** 的下界。
* **[!UICONTROL 長度]**:一個整數，它指定要在輸出的起始位置後包含的字元計數。 僅在 **[!UICONTROL 至]** 下拉清單。

## 分隔字元

對於使用分隔符分隔多個字串值的欄位，請使用此方法。 可以提取單個元素以用作輸出，也可以將字串轉換為對象陣列模式元素。

* **[!UICONTROL 標準]**:要如何處理分隔的值清單。
   * **[!UICONTROL 左起]**:從分隔清單的開頭開始並向前計數。
   * **[!UICONTROL 右起]**:從分隔清單的結尾開始，向後計數。
   * **[!UICONTROL 轉換為陣列]**:將此維視為對象陣列架構元素。
* **[!UICONTROL 分隔符]**:欄位使用的分隔符。
* **[!UICONTROL 索引]**:僅當條件為「從左/右」時才存在。 元素編號，就好像它在陣列中。 例如，如果字串輸入為 `"Fox,Turtle,Rabbit,Wolf"` 指數為3時，輸出 `"Rabbit"`。 如果索引高於分隔元素的數量， [無值選項](no-value-options.md) 按鈕

## URL 剖析

用於包含URL的欄位。 使用示例URL `https://example.com/store/index.html?cid=campaign#cart`，可以使用以下選項：

* **[!UICONTROL 獲取協定]**:獲取URL的協定。 例如：`"https://"`。
* **[!UICONTROL 獲取主機]**:獲取URL的主機。 例如：`"example.com"`。
* **[!UICONTROL 獲取路徑]**:獲取URL的路徑。 例如：`"store/index.html"`。
* **[!UICONTROL 獲取查詢字串值]**:從單個查詢字串中獲取值。 將所需的查詢字串參數放置在 **[!UICONTROL 查詢鍵]** 的子菜單。 如果將上述URL與 `"cid"` 查詢鍵，輸出為 `"campaign"`。
* **[!UICONTROL 獲取哈希值]**:獲取URL的哈希值。 例如：`"cart"`。

如果輸入不是有效的URL，或者沒有所需的URL元件， [無值選項](no-value-options.md) 按鈕

## 修剪

從字串中裁切空格或特殊字元。

* **[!UICONTROL 修剪空白]**:一個複選框，如果啟用該複選框，則刪除字串開頭和結尾處的所有空白。
* **[!UICONTROL 修剪特殊字元]**:顯示 **[!UICONTROL 特殊字元]** 輸入欄位（如果已啟用）。 此欄位中的所有字元都從輸出中刪除。 不支援多位元組字元。

## Regex

將規則運算式應用於維以檢索所需值。

* **[!UICONTROL 規則運算式]**:規則運算式公式。
* **[!UICONTROL 輸出格式]**:可選欄位，用於添加文本或重新排序規則運算式子組輸出。 如果此欄位為空，則字串輸出為已計算的regex表達式。
* **[!UICONTROL 區分大小寫]**:一個複選框，如果啟用該複選框，則強制規則運算式區分大小寫。

CJA使用Perl regex語法的子集。 如果輸入與規則運算式和 **[!UICONTROL 輸出格式]** 空白， [無值選項](no-value-options.md) 按鈕 支援下列運算式:

| 運算式 | 說明 |
| --- | --- |
| `a` | 單個字元 `a`。 |
| `a|b` | 單個字元 `a` 或 `b`。 |
| `[abc]` | 單個字元 `a`。 `b`或 `c`。 |
| `[^abc]` | 除了 `a`。 `b`或 `c`。 |
| `[a-z]` | 範圍中的任何單個字元 `a`-`z`。 |
| `[a-zA-Z0-9]` | 範圍中的任何單個字元 `a`-`z`。 `A`-`Z`或數字 `0`-`9`。 |
| `^` | 匹配行的開頭。 |
| `$` | 匹配行尾。 |
| `\A` | 字串的開始. |
| `\z` | 字串的結尾. |
| `.` | 匹配任何字元。 |
| `\s` | 任何空白字元. |
| `\S` | 任何非空白字元. |
| `\d` | 任何數字. |
| `\D` | 任何非數字. |
| `\w` | 任何字母、數字或下划線。 |
| `\W` | 任何非單詞字元. |
| `\b` | 任何單詞邊界. |
| `\B` | 任何不是字邊界的字元。 |
| `\<` | 開始。 |
| `\>` | 結束。 |
| `(...)` | 擷取括住的所有內容. |
| `(?:...)` | 非標籤捕獲。 防止在輸出字串中引用匹配項。 |
| `a?` | 零個或一個 `a`. |
| `a*` | 零個或更多 `a`. |
| `a+` | 再加一個 `a`。 |
| `a{3}` | 正好3個 `a`。 |
| `a{3,}` | 3個或更多 `a`。 |
| `a{3,6}` | 介於3至6之間 `a`。 |

還支援輸出佔位符。 您可以在 **[!UICONTROL 輸出格式]** 以任意次數和順序獲得所需的字串輸出。

| 輸出佔位符序列 | 說明 |
| --- | --- |
| `$&` | 輸出與整個表達式匹配的內容。 |
| `$n` | 輸出與第n個子表達式匹配的內容。 比如說， `$1` 輸出第一個子表達式。 |
| ``$` `` | 輸出在找到的上次匹配結束（如果找不到以前的匹配，則輸出文本的開始）和當前匹配開始之間的文本。 |
| `$+` | 輸出與規則運算式中最後一個標籤的子表達式匹配的內容。 |
| `$$` | 輸出字串字元 `"$"`。 |
