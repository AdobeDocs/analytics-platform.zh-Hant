---
description: 影響CJA和工作區效能的因素，以及您可以採取的最佳化措施
title: 最佳化CJA和Analysis Workspace效能
feature: FAQ
exl-id: ad00e476-6f19-462b-ba53-d72ddd949802
source-git-commit: e3665784a775ff273705fa18ed81bd8904a4e405
workflow-type: tm+mt
source-wordcount: '1923'
ht-degree: 76%

---

# 最佳化CJA和 [!UICONTROL Analysis Workspace] 績效

各種因素可以影響Analysis Workspace中的整體CJA效能以及專案效能。 在工作區中，您可能會收到錯誤訊息，指出

`This query is too complex. Please review best practices for building Analysis Workspace queries.`

這些最佳實務會討論可能導致此錯誤的因素，以及如何簡化報告/專案。

## 查詢因數

以下是影響CJA整體效能的最常見查詢因素：

| 因素 | 定義 | 影響因素 | 最佳化 |
| --- | --- | --- | --- |
| **自由格式列和欄的數量** | 專案中自由格式儲存格的總數，以所有表格的列數 * 欄數計算。不包括隱藏的資料來源。建議為 4000 個。 | 將表格中的欄數減少至只剩最相關的資料點。調整顯示的列數、套用表格篩選條件或套用篩選器，減少表格中的列數。 |
| **已使用的元件** | 專案中使用的元件總數。建議為 100 個。 | 使用的元件數量不會直接影響效能。但這些元件的複雜度會影響專案效能。請參閱下方「其他因素」一節的最佳化措施。 |
| **最大日期範圍** | 此因素顯示專案使用的最長日期範圍。建議為 1 年。 | 可能情況下，提取資料時請不要超出所需。將面板日曆縮小至分析的相關日期，或在自由表格中使用日期範圍元件 (紫色元件)。表格中使用的日期範圍會覆寫面板日期範圍。例如，您可以將上個月、上週和昨天新增至表格欄，以請求這些特定的資料範圍。如需在 Analysis Workspace 中使用日期範圍的相關資訊，請看[這段影片](https://experienceleague.adobe.com/docs/analytics-learn/tutorials/analysis-workspace/calendar-and-date-ranges/date-ranges-and-calendar-in-analysis-workspace.html?lang=zh-Hant)。<br><br>此外，將專案中使用的逐年比較數減到最少。計算出逐年比較時，系統會在感興趣的月份間查看完整 13 個月的資料。這與將面板日期範圍變更為過去 13 個月的影響相同。 |
| **篩選器複雜性** | 複雜的篩選器可能對專案效能造成重大影響。 | 會使篩選器增加複雜度的因素 (按影響程度由上往下排序) 包括： <ul><li>「包含」、「包含任何」、「符合」、「開始於」或「終止於」運算子 </li><li>連續篩選，尤其是使用維度限制（之內/之後）時 </li><li>篩選器使用的維度內不重複維度項目數量 (例如：具有 10 個不重複項目的頁面 =「A」，其速度會比具有 100000 個不重複項目的頁面 =「A」更快) </li><li>使用的不同維度數量 (例如：頁面 =「首頁」和頁面 =「搜尋結果」，其速度會比 eVar 1 =「紅色」和 eVar 2 =「藍色」更快)</li><li>多個「或」運算子 (而非「和」)</li><li>範圍各異的巢狀容器（例如「Person」內「Session」內的「Event」）</li></ul> | 雖然有些複雜度因素無法避免，但您可以尋找有哪些機會可降低您篩選器的複雜度。 一般而言，篩選條件越明確越好。 例如：<ul><li>若使用容器，在篩選器頂端使用單一容器，其速度會比一系列巢狀容器更快。</li><li>若使用運運算元，「等於」比「包含」更快，且「等於任何」比「包含任何」更快。</li><li>若使用許多條件，則AND運運算元會比一系列OR運運算元更快。</li></ul> 盡可能將多個 OR 陳述式簡化為一個「等於任何」陳述式。<br> |
| **視覺效果複雜度** （篩選器、量度、篩選器） | 專案本身新增的視覺效果型別（例如流失和自由表格）對專案效能的影響不大。 視覺效果的複雜度會增加處理時間。 | 增加視覺效果複雜度的因素包括：<ul><li>要求的資料範圍</li><li>套用的篩選器數；例如，用來作為自由表格列的篩選器</li><li>使用複雜篩選器</li><li>[自由表格的靜態項目列或欄](/help/analysis-workspace/visualizations/freeform-table/column-row-settings/manual-vs-dynamic-rows.md)</li><li>自由表格列所套用的篩選器</li><li>包含的量度數目，尤其是使用了篩選器的計算量度</li></ul> |
| **資料中心容量** | 您和其他客戶在 Adobe 資料中心內共用的報告容量。 | 這會受到貴組織和其他組織在您的資料中心內同時發出的查詢數量所影響。 | 貴組織有權設定容量，而如果系統負載較輕，Adobe 會將更多容量轉移給您，這會超出您的權利限額。 |
| **並行查詢數** | 您的組織同時請求的查詢數。 每個組織同時間有權發出至少 5 個查詢。如果報表所花的時間很長，通常是因為該報表與其他報表一起在佇列中。 這表示貴組織針對特定資料檢視同時嘗試執行許多請求。 查詢可以來自API請求、報表UI (Analysis Workspace、Report Builder等)、已排程專案、已排程警報，以及同時提出報表請求的使用者。 在一天中更平均地分佈資料檢視的請求和排程。 此外，盡可能將您的要求轉移到非高峰時段。 星期一早上、星期二早上及每個月的第一天都是尖峰報告時間。 |
| **連線大小** | 收集到您連線的資料量。 |  | 請洽詢您的實作團隊或CJA專家，判斷是否有可行的實作改善專案能改善CJA的整體體驗。 |
| **維度設定的複雜性** | 高度複雜的維度可能會對專案效能產生重大影響，尤其是基於複雜自訂欄位的維度或量度。 |  | 減少自訂欄位數或建立個別維度。 |
| **具有許多唯一值的Dimension** | 這些維度也稱為高基數維度，可能會影響報表效能。 | 另請參閱 [高基數維度](/help/components/dimensions/high-cardinality.md) | 另請參閱 [高基數維度](/help/components/dimensions/high-cardinality.md) |

## Analysis Workspace 中的[!UICONTROL 「說明] > [!UICONTROL 效能」]

多種因素可以影響 Analysis Workspace 中專案的效能在開始建立專案之前，請務必先了解各項貢獻因素，以便以最有效的方式規劃及建立專案。本節包含影響效能的因素清單，以及可採取的最佳化措施，以確保Analysis Workspace的尖峰效能。

在&#x200B;**「Analysis Workspace > [!UICONTROL 說明] > [!UICONTROL 效能」]**&#x200B;中，您可以看到影響專案效能的因素，包括網路、瀏覽器和專案因素。為獲得最準確的結果，請待專案完全載入後再開啟「效能」頁面。

* 「目前的專案」欄會顯示您目前專案和使用者環境的結果。
* 「建議」欄會顯示每個因素的 Adobe 建議臨界值。

此外，您也可以將效能內容&#x200B;**下載為 CSV**，輕鬆與 Adobe 客戶服務或您的內部 IT 團隊分享。

>[!NOTE]
>
>「效能」頁面上的資訊會隨著每次強制回應視窗開啟而有所不同，因為因素可能會有所變更。此外，Adobe 會在可使用更多資料時，持續調整提供的建議。

![](assets/performance-modal.png)

## 網路因素

[!UICONTROL 「說明] > [!UICONTROL 效能」]網路因素包括：

| 因素 | 定義 | 影響因素 | 最佳化 |
| --- | --- | --- | --- |
| **與 Adobe 連線** | 效能頁面開啟時，Adobe 會傳送 10 次測試呼叫。這代表成功呼叫 Adobe 的百分比。 | 本機網路問題或 Adobe 問題會影響此因素。 | 查看 status.adobe.com，確認是否有已知服務問題。接著檢查您的本機網路連線。 |
| **網際網路頻寬** | 僅適用於 Google Chrome。您所在位置的瀏覽器頻寬預估值。 建議為 2.0 MB/s。 | 您的本機網路連線會影響此因素。 | 檢查您的本機網路連線。 |
| **網際網路延遲** | 效能頁面開啟時，Adobe 會傳送 10 次測試呼叫。這代表每個請求前往 Adobe 並回傳的平均時間。更簡單地說，這是測量網際網路在您所在位置與 Adobe 之間的速度。建議為小於 1 秒。 | 本機網路問題、開啟的瀏覽器分頁過多或 Adobe 問題，都會影響此因素。 | 查看 status.adobe.com，確認是否有已知服務問題。接著，檢查您的本機網路連線並關閉未使用的瀏覽器分頁。 |

## 瀏覽器因素

[!UICONTROL 「說明] > [!UICONTROL 效能」]瀏覽器因素包括：

| 因素 | 定義 | 影響因素 | 最佳化 |
| --- | --- | --- | --- |
| **運算速度** | 電腦執行處理測試的速度。建議為小於 750 毫秒。 | 您的硬體和並行程式會影響此因素。 | 開啟電腦的「工作管理員」(PC)或「活動監視器」(Mac)，判斷是否有可關閉的程式。 接著，關閉未使用的瀏覽器分頁或其他程式。<br><br>如果這些動作沒有用，請與您的 IT 團隊討論硬體詳細資訊。 |
| **已使用的記憶體** | 僅適用於 Google Chrome。Google Chrome 瀏覽器中的每個 Workspace 分頁總共共用 4 GB 記憶體。這表示目前專案使用的記憶體容量百分比。建議為 3500 MB，這是 Workspace 開始出現記憶體錯誤的時候。 | 使用多個分頁或下載 50000 列資料，會增加記憶體使用量。 | 如果您收到記憶體錯誤，請關閉其他 Workspace 分頁及/或執行一次只下載 50000 列。 |
| **已使用的本機儲存空間** | 資料儲存在本機電腦，以便在瀏覽器中使用。每個來源 (例如 experience.adobe.com) 有 10 MB 容量。 | Analysis Workspace 會將本機儲存空間用於多個功能，包括儲存自動儲存 (現有) 的專案、使用者設定和功能標幟。 | 為了確保 Analysis Workspace 功能不會受影響，請為 experience.adobe.com 網域清除本機儲存空間。 |
| **演算速度** | FPS 代表「每秒幀數」，這是瀏覽器每秒在螢幕上繪製頁面的次數。24 FPS 通常是肉眼能觀察到的速度；如果 FPS 低於此值，您會在 Workspace 中看到演算問題。 | FPS 會受同時在多個 Workspace 專案多工處理，以及正在檢視專案的大小影響。在您電腦上執行的其他程式也可能會有影響，例如串流、背景掃描程式等。此外，您的硬體也會影響此因素。 | 開啟電腦的「工作管理員」(PC)或「活動監視器」(Mac)，判斷是否有可關閉的程式。 接著，關閉未使用的瀏覽器分頁或其他程式。<br><br>如果這些動作沒有用，請與您的 IT 團隊討論硬體詳細資訊。 |

## 專案因素

[!UICONTROL 「說明] > [!UICONTROL 效能」]專案因素包括：

| 因素 | 定義 | 最佳化 |
| --- | --- | --- |
| **查詢數** | 向 Adobe 提出以擷取專案中顯示之資料的查詢 (請求) 總數。查詢包括表格的排名請求、異常偵測、走勢圖、左側邊欄中顯示的元件等。不包括摺疊的面板和視覺效果。建議為 100 個。 | 將資料分割為多個專案，以符合特定目的或供相關人士使用，盡可能簡化專案。使用標記將專案組織成主題，並使用[直接連結](https://experienceleague.adobe.com/docs/analytics/analyze/analysis-workspace/curate-share/shareable-links.html?lang=zh-Hant)，建立內部目錄，讓相關人士可更輕鬆找到所需項目。 |
| **展開的面板數 (以總面板數為分母)** | 專案面板總數中展開的面板數量。建議為 5 個。 | 採取措施簡化專案後，摺疊專案中不需要載入時檢視的面板。開啟專案時，只會處理展開的面板。除非使用者展開，否則不會處理摺疊的面板。 |
| **展開的視覺效果 (以總視覺效果數為分母)** | 專案總計中的展開表格和視覺效果數量，包括隱藏的資料來源。建議為 15 個。 | 採取措施簡化專案後，摺疊專案中不需要載入時檢視的視覺效果。優先處理對報表取用者最重要的視覺效果，並視需要將輔助視覺效果分散至更詳細的個別面板或專案。 |
